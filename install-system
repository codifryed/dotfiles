#!/usr/bin/env bash

set -e

# Arch Stuff

#########################################################
# Arch Repo
sudo pacman -S --needed \
  wget \
  git \
  vim \
  gcc \
  python \
  p7zip \
  aspell-de \
  aspell-en \
  imagemagick \
  lolcat \
  cmatrix \
  sl \
  lm_sensors \
  dos2unix \
  audacity \
  filezilla \
  thunderbird \
  unrar \
  libdvdcss \
  grsync \
  neovim \
  gimp \
  htop \
  keepassxc \
  vlc \
  virtualbox \
  virtualbox-guest-iso \
  virtualbox-host-dkms \
  virtualbox-ext-oracle \
  flatpak \
  spotify \
  piper \
  signal-desktop \
  telegram-desktop \
  skypeforlinux-stable-bin \
  onlyoffice-bin \
  zoom \
  google-chrome \
  chrome-remote-desktop \
  teamviewer \
  megasync-bin \
  appimagelauncher \
  strawberry \
  btop \
  discord \
  python-poetry \
  jdk11-openjdk \
  docker \
  docker-compose \
  gitkraken \
  jetbrains-toolbox \
  code \
  nodejs \
  rustup \
  exa \
  genact 


# not currently needed for base system:
  #neofetch \
  #python-pip \

sudo usermod -aG docker $USER

# Preferred Gnome Settings:
# Look to see if we can do something similar in KDE (shortcuts for example)
#######################################################
#gsettings set org.gnome.shell.extensions.dash-to-dock click-action 'minimize-or-overview'

########################################################
# Virtualbox
# Guarada has a setting for automatically adding the user to the vboxuser, may not need the following:
#sudo adduser $USER vboxusers
########################################################

# AUR Stuff (use sparingly)
########################################################
# yay is aliased to paru in garuda
paru -S --needed \
  inkdrop \
  cava

#########################################################
# Flatpak Programs: (after restart of flatpak install)
# flatpak install -y org.freedesktop.Piper


#########################################################
## Set default Terminal (needed?)
#sudo update-alternatives --config x-terminal-emulator


## Additional bluetooth codecs for better audio:
#sudo add-apt-repository ppa:berglh/pulseaudio-a2dp
#sudo apt install -y pulseaudio-modules-bt libldac


########################################################
# PyPi Programs:

########################################################
# Other Customisaztions
## Keychron Fn key fix:
if [ ! -f /etc/modprobe.d/hid_apple.conf ]; then
  sudo sh -c 'echo "options hid_apple fnmode=2" > /etc/modprobe.d/hid_apple.conf'
  sudo mkinitcpio -P
fi

## Grub change on Garuda to use LTS kernel always (recommended by me for now, as I prefer a bit more stability to speed/newness)
echo If you want to change the default Grub kernel choice, edit: vim /etc/default/grub  
echo set to last saved, then easy to change
