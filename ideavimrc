let mapleader = " "
" :actionlist for all commands
set incsearch " Highlight search results when typing
" set hlsearch " Highlight search results
set scrolloff=12 " Display at least 3 lines around you cursor
set ignorecase " Ignore case when searching
set smartcase " If there is an uppercase in your search term
set relativenumber number
set clipboard+=ideaput
set clipboard+=unnamed
set breakindent
set ideajoin
set NERDTree
set commentary
set highlightedyank
set vim-paragraph-motion

nmap <leader>rn <Action>(RenameElement)
nmap <leader>rp <Action>(IntroduceParameter)
nmap <leader>rI <Action>(OptimizeImports)
nmap <leader>df <Action>(ToggleDistractionFreeMode)
nmap <leader>pr <Action>(TogglePresentationMode)
nmap <leader>go <Action>(GotoDeclaration)
nmap <C-d> <C-d>zz
nmap <C-u> <C-u>zz
nmap n nzz
nmap N Nzz
nmap { {zz
nmap } }zz
" doesn't seem to work as expected, unfortuneately
" nnoremap <leader>sr :%s/<C-r><C-w>/<C-r><C-w>/gI<Left><Left><Left>
nmap <leader>sf <Action>(GotoFile)
nmap <leader>sg <Action>(FindInPath)
nmap <leader><Space> <Action>(RecentFiles)
nmap <A-h> <C-w>h
nmap <A-j> <C-w>j
nmap <A-k> <C-w>k
nmap <A-l> <C-w>l
" Code Completion
nmap <leader>cc <Action>(CodeCompletion)
" Code Actions
nmap <leader>ca <Action>(ShowIntentionActions)
" Code Squigly = show squigly underlined error description
nmap <leader>cs <Action>(ShowErrorDescription)
map <leader>f <Action>(ReformatCode)
nmap <leader>o o<Esc>k
nmap <leader>O O<Esc>j

nmap <leader>ww <Action>(NextProjectWindow)

nmap <leader>t <Action>(ActivateTerminalToolWindow)
nmap <leader>rr <Action>(Run)
nmap <leader>de <Action>(Debug)
nmap <leader>bp <Action>(ToggleLineBreakpoint)
map <C-=> <Action>(EditorIncreaseFontSize)
map <C--> <Action>(EditorDecreaseFontSize)
map <C-w><C-w> :NERDTreeFocus<CR>

" handled by comment plugin:
" nnoremap <leader>gc :action CommentByLineComment

" Misc
map <leader>vr :source ~/.ideavimrc<CR>


" intelliJ Handlers:
" n - normal mode
" i - insert mode
" x - visual mode
" v - visual and select modes
" a - all modes
sethandler <C-C> a:ide
sethandler <C-D> a:vim
sethandler <C-E> a:vim
sethandler <C-H> a:vim
sethandler <C-L> a:vim
sethandler <C-O> a:vim
sethandler <C-P> a:ide
sethandler <C-Q> a:ide
sethandler <C-R> a:vim
sethandler <C-U> a:vim
sethandler <C-V> a:vim
sethandler <C-W> a:vim
sethandler <C-[> a:vim
sethandler <C-]> a:vim
